!function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Choose language":"Choose language",Language:"Language","Remove language":"Remove language"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),
/*!
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var e={237:e=>{"use strict";e.exports=CKEditor5.dll},311:(e,t,a)=>{e.exports=a(237)("./src/ui.js")},584:(e,t,a)=>{e.exports=a(237)("./src/utils.js")},782:(e,t,a)=>{e.exports=a(237)("./src/core.js")}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";a.r(n),a.d(n,{TextPartLanguage:()=>l,TextPartLanguageCommand:()=>r,TextPartLanguageEditing:()=>g,TextPartLanguageUI:()=>s,_parseLanguageAttribute:()=>o,_stringifyLanguageAttribute:()=>i});var e=a(782),t=a(584);function i(e,a){return`${e}:${a=a||(0,t.getLanguageDirection)(e)}`}function o(e){const[t,a]=e.split(":");return{languageCode:t,textDirection:a}}class r extends e.Command{refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"language")}execute({languageCode:e,textDirection:t}={}){const a=this.editor.model,n=a.document.selection,o=!!e&&i(e,t);a.change(e=>{if(n.isCollapsed)o?e.setSelectionAttribute("language",o):e.removeSelectionAttribute("language");else{const t=a.schema.getValidRanges(n.getRanges(),"language");for(const a of t)o?e.setAttribute("language",o,a):e.removeAttribute("language",a)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,a=e.document.selection;if(a.isCollapsed)return a.getAttribute("language")||!1;for(const e of a.getRanges())for(const a of e.getItems())if(t.checkAttribute(a,"language"))return a.getAttribute("language")||!1;return!1}}class g extends e.Plugin{static get pluginName(){return"TextPartLanguageEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("language",{textPartLanguage:[{title:"Arabic",languageCode:"ar"},{title:"French",languageCode:"fr"},{title:"Spanish",languageCode:"es"}]})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"language"}),e.model.schema.setAttributeProperties("language",{copyOnEnter:!0}),this._defineConverters(),e.commands.add("textPartLanguage",new r(e))}_defineConverters(){const e=this.editor.conversion;e.for("upcast").elementToAttribute({model:{key:"language",value:e=>i(e.getAttribute("lang"),e.getAttribute("dir"))},view:{name:"span",attributes:{lang:/[\s\S]+/}}}),e.for("downcast").attributeToElement({model:"language",view:(e,{writer:t},a)=>{if(!e)return;if(!a.item.is("$textProxy")&&!a.item.is("documentSelection"))return;const{languageCode:n,textDirection:i}=o(e);return t.createAttributeElement("span",{lang:n,dir:i})}})}}var u=a(311);class s extends e.Plugin{static get pluginName(){return"TextPartLanguageUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,a=t("Choose language"),n=t("Language");e.ui.componentFactory.add("textPartLanguage",t=>{const{definitions:i,titles:o}=this._getItemMetadata(),r=e.commands.get("textPartLanguage"),g=(0,u.createDropdown)(t);return(0,u.addListToDropdown)(g,i,{ariaLabel:n,role:"menu"}),g.buttonView.set({ariaLabel:n,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:n}),g.extendTemplate({attributes:{class:["ck-text-fragment-language-dropdown"]}}),g.bind("isEnabled").to(r,"isEnabled"),g.buttonView.bind("label").to(r,"value",e=>e&&o[e]||a),g.buttonView.bind("ariaLabel").to(r,"value",e=>{const t=e&&o[e];return t?`${t}, ${n}`:n}),this.listenTo(g,"execute",t=>{r.execute({languageCode:t.source.languageCode,textDirection:t.source.textDirection}),e.editing.view.focus()}),g}),e.ui.componentFactory.add("menuBar:textPartLanguage",a=>{const{definitions:i}=this._getItemMetadata(),o=e.commands.get("textPartLanguage"),r=new u.MenuBarMenuView(a);r.buttonView.set({label:n});const g=new u.MenuBarMenuListView(a);g.set({ariaLabel:t("Language"),role:"menu"});for(const e of i){if("button"!=e.type){g.items.add(new u.ListSeparatorView(a));continue}const t=new u.MenuBarMenuListItemView(a,r),n=new u.MenuBarMenuListItemButtonView(a);n.set({role:"menuitemradio",isToggleable:!0}),n.bind(...Object.keys(e.model)).to(e.model),n.delegate("execute").to(r),t.children.add(n),g.items.add(t)}return r.bind("isEnabled").to(o,"isEnabled"),r.panelView.children.add(g),r.on("execute",t=>{o.execute({languageCode:t.source.languageCode,textDirection:t.source.textDirection}),e.editing.view.focus()}),r})}_getItemMetadata(){const e=this.editor,a=new t.Collection,n={},o=e.commands.get("textPartLanguage"),r=e.config.get("language.textPartLanguage"),g=(0,e.locale.t)("Remove language");a.add({type:"button",model:new u.UIModel({label:g,languageCode:!1,withText:!0})}),a.add({type:"separator"});for(const e of r){const t={type:"button",model:new u.UIModel({label:e.title,languageCode:e.languageCode,role:"menuitemradio",textDirection:e.textDirection,withText:!0})},r=i(e.languageCode,e.textDirection);t.model.bind("isOn").to(o,"value",e=>e===r),a.add(t),n[r]=e.title}return{definitions:a,titles:n}}}class l extends e.Plugin{static get requires(){return[g,s]}static get pluginName(){return"TextPartLanguage"}static get isOfficialPlugin(){return!0}}})(),(window.CKEditor5=window.CKEditor5||{}).language=n})();